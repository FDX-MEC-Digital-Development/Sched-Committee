import{f as B,g as Z,m as v,h as T,i as V,j as G,_ as N,a as E,b as q,d as j,c as A,e as F}from"./DutyLimitDisclaimer.db478c13.js";import{g as h,m as k,c as p,b as s,w as l,T as P,o as r,d as _,t as x,i as n,q as W,r as b,h as z,a as y,j as O,k as J,n as K,l as Q}from"./entry.2250a3e1.js";import{f as g,U as X,u as Y,i as L}from"./useDutyLimits.47bd485e.js";const ee=h({__name:"InternationalDutyLimitResultsHeader",props:{basedOnTime:{type:Date,required:!0},options:{type:Object,required:!0}},setup(f){const t=f,o=k(()=>g(t.basedOnTime,"UTC","MM-dd-yy HH:mm"));return(a,d)=>{const e=B,u=Z;return r(),p("div",null,[s(P,{name:"fade-slide-down",appear:""},{default:l(()=>[s(u,{title:"Duty limits"},{default:l(()=>[_(" Based on a duty start time of "),s(e,null,{default:l(()=>[_(x(n(o))+"Z",1)]),_:1}),_(" you have "),s(e,null,{default:l(()=>{var c;return[_(x((c=t==null?void 0:t.options)!=null&&c.isGrid?"grid":"non-grid"),1)]}),_:1}),_(" duty limits. ")]),_:1})]),_:1})])}}});const te=h({__name:"InternationalResults",props:{internationalDutyLimits:{type:Object,required:!0}},setup(f){const t=f,o=k(()=>{const a=t.internationalDutyLimits.map(e=>({title:"Scheduled duty limit",notes:e.scheduledNotes,duration:v(e.scheduled).toString(),minutes:e.scheduled,dutyEndTime:g(e.endOfScheduledDutyDate,"UTC","dd-MM HH:MM"),dutyEndTimeZulu:e.endOfScheduledDutyDate,minutesRemaining:T(e.endOfScheduledDutyDate,new Date),blockHours:e.blockHours.scheduled?`Block hours: ${e.blockHours.scheduled}`:void 0,landings:e.landings?`Landings: ${e.landings}`:void 0})),d=t.internationalDutyLimits.filter(e=>e.operational!==void 0&&e.endOfOperationalDutyDate!==void 0).map(e=>({title:"Operational duty limit",notes:e.operationalNotes,duration:v(e.operational).toString(),minutes:e.operational,dutyEndTime:e.endOfOperationalDutyDate&&g(e.endOfOperationalDutyDate,"UTC","dd-MM HH:MM"),dutyEndTimeZulu:e.endOfOperationalDutyDate,minutesRemaining:e.endOfOperationalDutyDate&&T(e.endOfOperationalDutyDate,new Date),blockHours:typeof(e==null?void 0:e.blockHours.operational)=="number"?`${e==null?void 0:e.blockHours.operational} block hours`:typeof(e==null?void 0:e.blockHours.operational)=="string"?e==null?void 0:e.blockHours.operational:void 0,landings:e.landings?`Landings: ${e.landings}`:void 0}));return[...a,...d]});return(a,d)=>{const e=G,u=V;return r(),W(u,null,{default:l(()=>[s(e,{"duty-limit-cards":n(o)},null,8,["duty-limit-cards"])]),_:1})}}}),ne={class:"-mt-8"},se={class:"mx-auto max-w-7xl px-4 pb-12 sm:px-6 lg:px-8"},oe={class:"rounded-lg bg-grey dark:bg-gray-900 px-5 py-6 sm:px-6"},ae={class:"rounded-lg bg-grey dark:bg-gray-900 px-6 py-6 sm:px-6"},ie={key:0,class:"rounded-lg bg-grey dark:bg-gray-900 px-5 py-6 sm:px-6"},le={key:0},re={key:1},me=h({__name:"dutyLimits",setup(f){const t=b(new X),o=b({is2TripsWithOneOptional:!1,isDayRoomScheduledAndReserved:!1,isInternational:!1,isGrid:!1,isInboundFlightSegmentGreaterThan5HoursTZD:!1,crewNumberOfPilots:2,layoverLength:36,domicile:"MEM"});z(()=>{if(L(t.value)){const i=(t.value.getTime()-new Date().getTime())/1e3/60/60>96;o.value.isGrid=i}});const a=b(!1);async function d(){a.value=!0,await K();const m=document.querySelector(".result");m==null||m.scrollIntoView({behavior:"smooth",block:"start"})}const{domestic:e,international:u,dutyStartTimeLBT:c}=Y(t,o);return(m,i)=>{const H=A,S=Q,w=N,C=E,M=q,R=ee,U=te,I=j,$=F;return r(),p("main",ne,[y("div",se,[y("div",oe,[s(H,{title:"Duty Limits",description:"Use this tool to calulate scheduled, operational, and FAR duty limits."})]),y("div",ae,[s(w,{dutyStartTimeZulu:n(t),"onUpdate:dutyStartTimeZulu":i[0]||(i[0]=D=>O(t)?t.value=D:null),options:n(o),"onUpdate:options":i[1]||(i[1]=D=>O(o)?o.value=D:null)},{button:l(()=>[s(S,{label:"View Duty Limits",class:"result execute rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600",onClick:d})]),_:1},8,["dutyStartTimeZulu","options"])]),n(a)?(r(),p("div",ie,[n(o).isInternational?(r(),p("div",re,[s(R,{"based-on-time":n(t),options:n(o)},null,8,["based-on-time","options"]),s(U,{"international-duty-limits":n(u)},null,8,["international-duty-limits"])])):(r(),p("div",le,[s(C,{"based-on-time":n(t),"duty-limits":n(e),"duty-start-time-l-b-t":n(c)},null,8,["based-on-time","duty-limits","duty-start-time-l-b-t"]),s(M,{"domestic-duty-limits":n(e),"duty-start-time-l-b-t":n(c)},null,8,["domestic-duty-limits","duty-start-time-l-b-t"])])),s(I,{"is-international":n(o).isInternational},null,8,["is-international"]),s($)])):J("",!0)])])}}});export{me as default};
